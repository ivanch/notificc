language: generic
services:
  - docker

before_script:
  - make pull

script:
  - make build

deploy:
  provider: script
  script: bash ./assets/deploy_dockerhub.sh
  on:
    branch: master